document.addEventListener("DOMContentLoaded",(()=>{const form=document.querySelector(".contact-form");if(form){form.style.opacity="";form.style.transform="";const nombre=form.querySelector("#nombre");const email=form.querySelector("#email");const motivo=form.querySelector("#motivo");const mensaje=form.querySelector("#mensaje");const counter=document.getElementById("mensajeCounter");const submitBtn=form.querySelector('button[type="submit"]');mensaje.addEventListener("input",(()=>{const max=mensaje.getAttribute("maxlength")||1e3;const restante=max-mensaje.value.length;counter.textContent=`${restante} caracteres restantes`}));const touched={nombre:false,email:false,motivo:false,mensaje:false};function marcarTocado(e){touched[e.target.id]=true;validar()}function validar(){let valido=true;if(!nombre.value.trim()&&touched.nombre){nombre.classList.add("is-invalid");valido=false}else{nombre.classList.remove("is-invalid")}const emailVal=email.value.trim();const emailOk=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailVal);if(!emailOk&&touched.email){email.classList.add("is-invalid");valido=false}else{email.classList.remove("is-invalid")}if(!motivo.value&&touched.motivo){motivo.classList.add("is-invalid");valido=false}else{motivo.classList.remove("is-invalid")}if(!mensaje.value.trim()&&touched.mensaje){mensaje.classList.add("is-invalid");valido=false}else{mensaje.classList.remove("is-invalid")}submitBtn.disabled=!(nombre.value.trim()&&emailOk&&motivo.value&&mensaje.value.trim());return valido}[nombre,email,motivo,mensaje].forEach((input=>{input.addEventListener("input",validar);input.addEventListener("blur",marcarTocado)}));form.addEventListener("submit",(function(e){touched.nombre=true;touched.email=true;touched.motivo=true;touched.mensaje=true;if(!validar()){e.preventDefault()}}));validar();mensaje.dispatchEvent(new Event("input"))}if(typeof gsap!=="undefined"){gsap.from(".contact-header",{opacity:0,scale:.96,duration:1,ease:"power2.out"});gsap.from(".contact-form",{opacity:0,scale:.97,duration:1,delay:.15,ease:"power2.out"});gsap.from(".contact-info-quick",{opacity:0,scale:.97,duration:1,delay:.3,ease:"power2.out"});if(gsap&&gsap.registerPlugin&&typeof ScrollTrigger!=="undefined"){gsap.registerPlugin(ScrollTrigger);gsap.from(".faq-contacto",{opacity:0,scale:.97,duration:1,ease:"power2.out",scrollTrigger:{trigger:".faq-contacto",start:"top 80%",toggleActions:"play none none none"}})}else{gsap.from(".faq-contacto",{opacity:0,scale:.97,duration:1,delay:.45,ease:"power2.out"})}gsap.from(".contact-social .social-link",{scale:0,opacity:0,stagger:.15,duration:.7,delay:.7,ease:"back.out(1.7)"});document.querySelectorAll(".contact-form input, .contact-form textarea, .contact-form select").forEach((el=>{el.addEventListener("focus",(()=>{gsap.to(el,{boxShadow:"0 0 0 3px #fdb00a55",duration:.3})}));el.addEventListener("blur",(()=>{gsap.to(el,{boxShadow:"none",duration:.3})}))}))}document.querySelector(".contact-form").addEventListener("submit",(function(event){const nombre=document.getElementById("nombre").value.trim();const email=document.getElementById("email").value.trim();if(!nombre||!email){event.preventDefault();alert("Por favor, completa todos los campos obligatorios.")}}))}));